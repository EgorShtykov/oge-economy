<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <title>üéÆ –û–ì–≠ –≠–∫–æ–Ω–æ–º–∏–∫–∞ | –ó–∞—Ä–∞–±–∞—Ç—ã–≤–∞–π –∫—Ä–∏—Å—Ç–∞–ª–ª—ã!</title>
    <style>
        *{margin:0;padding:0;box-sizing:border-box}
        body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Arial,sans-serif;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);min-height:100vh;color:#333;line-height:1.6}
        .container{max-width:1200px;margin:0 auto;padding:20px}
        
        header{text-align:center;padding:40px 20px;color:#fff}
        h1{font-size:clamp(2rem,6vw,3rem);margin-bottom:10px;text-shadow:2px 2px 4px rgba(0,0,0,.2)}
        .subtitle{font-size:clamp(1rem,3vw,1.3rem);opacity:.95}
        
        .balance-section{background:#fff;border-radius:20px;padding:30px;margin-bottom:30px;box-shadow:0 10px 40px rgba(0,0,0,.2);text-align:center}
        .balance-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:20px;margin-bottom:20px}
        .balance-item{padding:25px;border-radius:15px;background:linear-gradient(135deg,#f5f7fa 0%,#e4e8ec 100%);transition:transform .3s}
        .balance-item:hover{transform:scale(1.05)}
        .balance-icon{font-size:3.5rem;margin-bottom:10px}
        .balance-amount{font-size:3rem;font-weight:bold;color:#667eea}
        .balance-label{color:#666;font-size:1rem;margin-top:5px}
        .streak-badge{display:inline-flex;align-items:center;gap:8px;background:linear-gradient(135deg,#ff6b6b 0%,#ee5a5a 100%);color:#fff;padding:10px 20px;border-radius:25px;font-weight:bold;font-size:1.1rem;margin-top:15px}
        .student-name{font-size:1.3rem;color:#667eea;margin-top:15px;padding:10px 20px;background:#f0f4ff;border-radius:10px;display:inline-block}
        
        .stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;margin-bottom:30px}
        .stat-card{background:#fff;border-radius:15px;padding:25px;text-align:center;box-shadow:0 5px 20px rgba(0,0,0,.1);transition:transform .3s}
        .stat-card:hover{transform:translateY(-5px)}
        .stat-icon{font-size:2.5rem;margin-bottom:10px}
        .stat-value{font-size:2rem;font-weight:bold;color:#667eea}
        .stat-label{color:#666;font-size:.95rem;margin-top:5px}
        
        .section{background:#fff;border-radius:20px;padding:30px;margin-bottom:30px;box-shadow:0 5px 20px rgba(0,0,0,.1)}
        .section-title{font-size:1.8rem;color:#667eea;margin-bottom:25px;display:flex;align-items:center;gap:10px}
        
        .tasks-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:15px}
        .task-card{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;border-radius:15px;padding:25px 20px;text-align:center;text-decoration:none;transition:all .3s;cursor:pointer}
        .task-card:hover{transform:scale(1.05);box-shadow:0 10px 30px rgba(102,126,234,.4)}
        .task-number{font-size:2.5rem;font-weight:bold;margin-bottom:5px}
        .task-name{font-size:.95rem;opacity:.95;margin-bottom:10px}
        .task-progress{font-size:.85rem;background:rgba(255,255,255,.2);padding:5px 10px;border-radius:10px;margin-top:8px}
        .task-reward{font-size:.8rem;background:rgba(255,255,255,.15);padding:3px 8px;border-radius:8px;margin-top:5px;display:inline-block}
        
        .earn-list{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:15px}
        .earn-item{display:flex;align-items:center;gap:15px;padding:20px;background:#f8f9fa;border-radius:12px;border-left:4px solid #667eea}
        .earn-icon{font-size:2rem}
        .earn-info{flex:1}
        .earn-name{font-weight:bold;color:#333;margin-bottom:3px}
        .earn-reward{color:#667eea;font-weight:bold}
        
        .info-box{background:#e3f2fd;border-left:4px solid #2196f3;padding:20px;border-radius:0 12px 12px 0;margin-top:20px}
        .info-title{font-weight:bold;color:#1976d2;margin-bottom:10px}
        
        .shop-btn{display:block;background:linear-gradient(135deg,#ffd700 0%,#ffaa00 100%);color:#333;text-align:center;padding:18px 35px;border-radius:30px;text-decoration:none;font-weight:bold;font-size:1.1rem;margin:20px 0;box-shadow:0 5px 20px rgba(255,215,0,.4);transition:all .3s}
        .shop-btn:hover{transform:scale(1.05)}
        
        .action-buttons{display:flex;gap:15px;justify-content:center;margin-top:30px;flex-wrap:wrap}
        .action-btn{padding:15px 30px;border-radius:25px;font-size:1rem;font-weight:bold;cursor:pointer;transition:all .3s;border:none;text-decoration:none;display:inline-flex;align-items:center;gap:10px}
        .action-btn.primary{background:#fff;color:#667eea;border:2px solid #667eea}
        .action-btn.secondary{background:rgba(255,255,255,.2);color:#fff;border:2px solid #fff}
        .action-btn:hover{transform:scale(1.05)}
        
        .achievements-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:15px}
        .achievement{background:#f5f5f5;border-radius:12px;padding:20px 15px;text-align:center;transition:all .3s}
        .achievement.unlocked{background:linear-gradient(135deg,#ffd700 0%,#ffaa00 100%);color:#fff;box-shadow:0 5px 15px rgba(255,215,0,.4)}
        .achievement-icon{font-size:2.5rem;margin-bottom:10px}
        .achievement-name{font-size:.85rem;font-weight:bold}
        
        footer{text-align:center;padding:20px;color:#fff;opacity:.8}
        
        @media(max-width:768px){
            .container{padding:15px}
            .balance-grid{grid-template-columns:1fr 1fr}
            .tasks-grid{grid-template-columns:repeat(2,1fr)}
            .action-buttons{flex-direction:column}
            .action-btn{width:100%;justify-content:center}
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üéÆ –û–ì–≠ –≠–∫–æ–Ω–æ–º–∏–∫–∞</h1>
            <p class="subtitle">–†–µ—à–∞–π –∑–∞–¥–∞—á–∏ ‚Äî –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞–π –∫—Ä–∏—Å—Ç–∞–ª–ª—ã ‚Äî –ø–æ–ª—É—á–∞–π —Ä–µ–∞–ª—å–Ω—ã–µ –ø—Ä–∏–∑—ã!</p>
        </header>
        
        <div class="balance-section">
            <div class="balance-grid">
                <div class="balance-item">
                    <div class="balance-icon">üíé</div>
                    <div class="balance-amount" id="crystals">0</div>
                    <div class="balance-label">–∫—Ä–∏—Å—Ç–∞–ª–ª–æ–≤<br>(—Ç—Ä–∞—Ç—è—Ç—Å—è)</div>
                </div>
                <div class="balance-item">
                    <div class="balance-icon">‚≠ê</div>
                    <div class="balance-amount" id="xp">0</div>
                    <div class="balance-label">XP<br>(–ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥)</div>
                </div>
            </div>
            <div class="student-name" id="student-name" style="display:none">üë§ <span id="name-text"></span></div>
            <div class="streak-badge" id="streak-badge" style="display:none">üî• <span id="streak-days">0</span> –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥</div>
        </div>
        
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon">üìö</div>
                <div class="stat-value" id="stat-solved">0</div>
                <div class="stat-label">–†–µ—à–µ–Ω–æ –∑–∞–¥–∞–Ω–∏–π</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üéØ</div>
                <div class="stat-value" id="stat-accuracy">0%</div>
                <div class="stat-label">–¢–æ—á–Ω–æ—Å—Ç—å</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üî•</div>
                <div class="stat-value" id="stat-streak">0</div>
                <div class="stat-label">–õ—É—á—à–∞—è —Å–µ—Ä–∏—è</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üèÜ</div>
                <div class="stat-value" id="stat-achievements">0</div>
                <div class="stat-label">–î–æ—Å—Ç–∏–∂–µ–Ω–∏–π</div>
            </div>
        </div>
        
        <a href="shop.html" class="shop-btn">üõí –í –º–∞–≥–∞–∑–∏–Ω –ø—Ä–∏–∑–æ–≤</a>
        
        <div class="section">
            <div class="section-title">üìö –ó–∞–¥–∞–Ω–∏—è –û–ì–≠</div>
            <div class="tasks-grid">
                <a href="oge15.html" class="task-card">
                    <div class="task-number">15</div>
                    <div class="task-name">–¢—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–∏</div>
                    <div class="task-progress" id="progress-15">0/17 —Ä–µ—à–µ–Ω–æ</div>
                    <div class="task-reward">üíé 5-15/–∑–∞–¥–∞–Ω–∏–µ</div>
                </a>
                <a href="oge16.html" class="task-card">
                    <div class="task-number">16</div>
                    <div class="task-name">–û–∫—Ä—É–∂–Ω–æ—Å—Ç—å</div>
                    <div class="task-progress" id="progress-16">0/17 —Ä–µ—à–µ–Ω–æ</div>
                    <div class="task-reward">üíé 5-15/–∑–∞–¥–∞–Ω–∏–µ</div>
                </a>
                <a href="oge_task17.html" class="task-card">
                    <div class="task-number">17</div>
                    <div class="task-name">–ü–ª–æ—â–∞–¥–∏ —Ñ–∏–≥—É—Ä</div>
                    <div class="task-progress" id="progress-17">0/17 —Ä–µ—à–µ–Ω–æ</div>
                    <div class="task-reward">üíé 5-15/–∑–∞–¥–∞–Ω–∏–µ</div>
                </a>
                <a href="oge_task18.html" class="task-card">
                    <div class="task-number">18</div>
                    <div class="task-name">–ù–∞ –∫–ª–µ—Ç—á–∞—Ç–æ–π –±—É–º–∞–≥–µ</div>
                    <div class="task-progress" id="progress-18">0/17 —Ä–µ—à–µ–Ω–æ</div>
                    <div class="task-reward">üíé 5-15/–∑–∞–¥–∞–Ω–∏–µ</div>
                </a>
                <a href="oge_task19.html" class="task-card">
                    <div class="task-number">19</div>
                    <div class="task-name">–ì–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–µ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è</div>
                    <div class="task-progress" id="progress-19">0/17 —Ä–µ—à–µ–Ω–æ</div>
                    <div class="task-reward">üíé 5-15/–∑–∞–¥–∞–Ω–∏–µ</div>
                </a>
            </div>
        </div>
        
        <div class="section">
            <div class="section-title">üí∞ –ö–∞–∫ –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å –∫—Ä–∏—Å—Ç–∞–ª–ª—ã</div>
            <div class="earn-list">
                <div class="earn-item">
                    <div class="earn-icon">üìñ</div>
                    <div class="earn-info">
                        <div class="earn-name">–ü–æ—Å–µ—â–µ–Ω–∏–µ –∑–∞–Ω—è—Ç–∏—è</div>
                        <div class="earn-reward">+20 üíé</div>
                    </div>
                </div>
                <div class="earn-item">
                    <div class="earn-icon">üìù</div>
                    <div class="earn-info">
                        <div class="earn-name">–°–¥–∞–Ω–Ω–æ–µ –î–ó –≤ —Å—Ä–æ–∫</div>
                        <div class="earn-reward">+30 üíé</div>
                    </div>
                </div>
                <div class="earn-item">
                    <div class="earn-icon">‚úÖ</div>
                    <div class="earn-info">
                        <div class="earn-name">–õ—ë–≥–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ</div>
                        <div class="earn-reward">+5 üíé</div>
                    </div>
                </div>
                <div class="earn-item">
                    <div class="earn-icon">‚≠ê</div>
                    <div class="earn-info">
                        <div class="earn-name">–°—Ä–µ–¥–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ</div>
                        <div class="earn-reward">+10 üíé</div>
                    </div>
                </div>
                <div class="earn-item">
                    <div class="earn-icon">üöÄ</div>
                    <div class="earn-info">
                        <div class="earn-name">–°–ª–æ–∂–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ</div>
                        <div class="earn-reward">+15 üíé</div>
                    </div>
                </div>
                <div class="earn-item">
                    <div class="earn-icon">üî•</div>
                    <div class="earn-info">
                        <div class="earn-name">–°—Ç—Ä–∏–∫ 7 –¥–Ω–µ–π</div>
                        <div class="earn-reward">+50 üíé</div>
                    </div>
                </div>
                <div class="earn-item">
                    <div class="earn-icon">‚ö°</div>
                    <div class="earn-info">
                        <div class="earn-name">5 –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –ø–æ–¥—Ä—è–¥</div>
                        <div class="earn-reward">+20 üíé</div>
                    </div>
                </div>
                <div class="earn-item">
                    <div class="earn-icon">üéÅ</div>
                    <div class="earn-info">
                        <div class="earn-name">–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –±–æ–Ω—É—Å</div>
                        <div class="earn-reward">+10-50 üíé</div>
                    </div>
                </div>
            </div>
            
            <div class="info-box">
                <div class="info-title">üí° –í–∞–∂–Ω–æ –∑–Ω–∞—Ç—å</div>
                <ul style="padding-left:20px;color:#333">
                    <li>–ú–∞–∫—Å–∏–º—É–º <strong>1000 üíé</strong> ‚Äî –≤—Å—ë —Å–≤—ã—à–µ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –≤ XP</li>
                    <li>–ö–∞–∂–¥—ã–µ <strong>90 –¥–Ω–µ–π</strong> —Å–≥–æ—Ä–∞–µ—Ç 20% –∫—Ä–∏—Å—Ç–∞–ª–ª–æ–≤ (—Ç—Ä–∞—Ç—å –±—ã—Å—Ç—Ä–µ–µ!)</li>
                    <li>–°—Ç—Ä–∏–∫ –æ–±—Ä—ã–≤–∞–µ—Ç—Å—è, –µ—Å–ª–∏ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å <strong>2 –¥–Ω—è</strong> –ø–æ–¥—Ä—è–¥</li>
                </ul>
            </div>
        </div>
        
        <div class="section">
            <div class="section-title">üèÜ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</div>
            <div class="achievements-grid" id="achievements-container">
                <div class="achievement unlocked">
                    <div class="achievement-icon">üéØ</div>
                    <div class="achievement-name">–ü–µ—Ä–≤—ã–π —à–∞–≥</div>
                </div>
                <div class="achievement">
                    <div class="achievement-icon">üìö</div>
                    <div class="achievement-name">–£—á–µ–Ω–∏–∫</div>
                </div>
                <div class="achievement">
                    <div class="achievement-icon">üéì</div>
                    <div class="achievement-name">–≠–∫—Å–ø–µ—Ä—Ç</div>
                </div>
                <div class="achievement">
                    <div class="achievement-icon">üèÜ</div>
                    <div class="achievement-name">–ú–∞—Å—Ç–µ—Ä –û–ì–≠</div>
                </div>
                <div class="achievement">
                    <div class="achievement-icon">üî•</div>
                    <div class="achievement-name">–°–µ—Ä–∏—è!</div>
                </div>
                <div class="achievement">
                    <div class="achievement-icon">‚ö°</div>
                    <div class="achievement-name">–õ–µ–≥–µ–Ω–¥–∞!</div>
                </div>
                <div class="achievement">
                    <div class="achievement-icon">üí∞</div>
                    <div class="achievement-name">–ë–æ–≥–∞—á</div>
                </div>
                <div class="achievement">
                    <div class="achievement-icon">üëë</div>
                    <div class="achievement-name">–ú–∏–ª–ª–∏–æ–Ω–µ—Ä</div>
                </div>
            </div>
        </div>
        
        <div class="action-buttons">
            <button class="action-btn primary" onclick="changeName()">‚úèÔ∏è –ò–∑–º–µ–Ω–∏—Ç—å –∏–º—è</button>
            <button class="action-btn secondary" onclick="resetProgress()">üóëÔ∏è –°–±—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å</button>
        </div>
        
        <footer>
            <p>¬© 2026 –û–ì–≠ –≠–∫–æ–Ω–æ–º–∏–∫–∞</p>
        </footer>
    </div>

    <script src="reward-system-v2.js"></script>
    <script>
        function updateDisplay(){
            try{
                var s=OGEEconomy?OGEEconomy.getStats():{crystals:0,xp:0,streak:0,name:'',correctStreak:0};
                document.getElementById('crystals').textContent=s.crystals||0;
                document.getElementById('xp').textContent=s.xp||0;
                
                if(s.name){
                    document.getElementById('name-text').textContent=s.name;
                    document.getElementById('student-name').style.display='inline-block';
                }
                
                if(s.streak>0){
                    document.getElementById('streak-days').textContent=s.streak;
                    document.getElementById('streak-badge').style.display='inline-flex';
                }
                
                document.getElementById('stat-streak').textContent=s.maxStreak||s.streak||0;
            }catch(e){console.log(e)}
        }
        
        function updateTaskProgress(){
            try{
                var progress=OGEEconomy?OGEEconomy.progress:{};
                var tasks=[{id:15,total:17},{id:16,total:17},{id:17,total:17},{id:18,total:17},{id:19,total:17}];
                tasks.forEach(function(task){
                    var solved=Object.keys(progress).filter(function(k){return k.startsWith('task'+task.id+'_')&&progress[k].solved}).length;
                    var el=document.getElementById('progress-'+task.id);
                    if(el)el.textContent=solved+'/'+task.total+' —Ä–µ—à–µ–Ω–æ';
                });
            }catch(e){console.log(e)}
        }
        
        function changeName(){
            var newName=prompt('–í–≤–µ–¥–∏ —Å–≤–æ—ë –∏–º—è:',(OGEEconomy&&OGEEconomy.data&&OGEEconomy.data.name)||'');
            if(newName&&newName.trim()){
                if(OGEEconomy)OGEEconomy.setName(newName.trim());
                location.reload();
            }
        }
        
        function resetProgress(){
            if(confirm('‚ö†Ô∏è –°–±—Ä–æ—Å–∏—Ç—å –í–ï–°–¨ –ø—Ä–æ–≥—Ä–µ—Å—Å? –ë–∞–ª–∞–Ω—Å, –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∏ –∏—Å—Ç–æ—Ä–∏—è –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã!')){
                localStorage.clear();
                location.reload();
            }
        }
        
        document.addEventListener('DOMContentLoaded',function(){
            updateDisplay();
            updateTaskProgress();
            if(OGEconomy)OGEconomy.askName();
        });
    </script>
</body>
</html>
